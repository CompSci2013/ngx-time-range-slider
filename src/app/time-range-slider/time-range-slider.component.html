<div class="time-range-slider" [class.disabled]="disabled">
  <div class="slider-container" (mousedown)="onSliderMousedown($event)">
    <!-- Thumb labels (above slider) -->
    <div class="thumb-labels">
      <div class="thumb-label start-label" [style.left.%]="startThumbPosition">
        {{ selectionStartLabel }}
      </div>
      <div class="thumb-label end-label" [style.left.%]="endThumbPosition">
        {{ selectionEndLabel }}
      </div>
    </div>

    <p-slider
      [(ngModel)]="sliderValues"
      [range]="true"
      [min]="0"
      [max]="sliderMax"
      [disabled]="disabled"
      [style.pointer-events]="zoomKeyHeld ? 'none' : 'auto'"
      (onChange)="onSliderChange($event.values)"
    ></p-slider>

    <!-- Tick marks -->
    <div class="tick-container">
      <div
        *ngFor="let tick of tickLabels"
        class="tick"
        [class.major]="tick.major"
        [style.left.%]="tick.position"
      >
        <div class="tick-mark"></div>
        <div class="tick-label" *ngIf="!tick.major">{{ tick.label }}</div>
        <div class="tick-label major-label" *ngIf="tick.major">{{ tick.majorLabel || tick.label }}</div>
      </div>
    </div>
  </div>

  <div class="footer-row">
    <div class="zoom-hint" [class.active]="zoomKeyHeld && canZoomIn">
      Ctrl+click to zoom in
    </div>
    <div class="granularity-indicator">
      {{ granularityLabel }}
    </div>
    <div class="zoom-controls" *ngIf="isZoomed">
      <button type="button" class="zoom-btn" (click)="zoomOut()" title="Zoom out one level">
        <i class="pi pi-search-minus"></i>
      </button>
      <button type="button" class="zoom-btn" (click)="resetZoom()" title="Reset to full range">
        <i class="pi pi-replay"></i>
      </button>
    </div>
  </div>
</div>
